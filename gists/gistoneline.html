<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous"><script>document.addEventListener("DOMContentLoaded", function() { let gitUserId = prompt("Enter github id", "xbalaji"); /* comments has to be single line only */ const mkText = t => document.createTextNode(t); const mkLink = (t, href) => { let anc = document.createElement("a"); anc.setAttribute("href", href); anc.setAttribute("target", "_blank"); anc.textContent = t; return anc; }; function addRow(tr, idata, itransform = mkText, ...transformArgs) { let td = document.createElement("td"); td.appendChild(itransform(idata, ...transformArgs)); tr.appendChild(td); }; function addRowHeader(idata, itransform = mkText, ...transformArgs) { let tr = document.createElement("tr"); for (let cell of idata) { let th = document.createElement("th"); th.appendChild(itransform(cell, ...transformArgs)); th.classList.add("position-sticky"); th.style.top = "0"; tr.appendChild(th); } return tr; }; /* create a table element */ let container = document.createElement("div"); let tbl = document.createElement("table"); let tb = document.createElement("tbody"); let th = document.createElement("thead"); container.classList.add("container", "mt-5"); tbl.classList.add("table", "table-hover", "table-sm", "table-condensed"); th.appendChild(addRowHeader(["S.No", "Raw", "Edit", "URL"])); th.classList.add("thead-dark"); tbl.appendChild(th); tbl.appendChild(tb); container.appendChild(tbl); let sno = 0; fetch(`https://api.github.com/users/${gitUserId}/gists?per_page=150`).then(resp => resp.json()).then(gists => { document.body.appendChild(container); let files = gists.flatMap(gist => Object.values(gist.files).map(file => Object.assign(file, { owner: gist.owner.login, id: gist.id, gist_url: gist.html_url, }))); console.log(files); files.sort((file1, file2) => { return file1.filename.localeCompare(file2.filename); }); for (let file of files) { sno += 1; let tr = document.createElement("tr"); addRow(tr, sno.toString().padStart(2, "0")); addRow(tr, "raw", mkLink, file.raw_url); addRow(tr, "edit", mkLink, "https://gist.github.com/" + file.owner + "/" + file.id + "/edit"); addRow(tr, file.filename, mkLink, file.gist_url); tb.appendChild(tr); }; });})</script>